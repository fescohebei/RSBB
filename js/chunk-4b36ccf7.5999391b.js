(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b36ccf7","chunk-8684a108","chunk-35e2856c","chunk-cbfe8314","chunk-15f1bbd1","chunk-2d21b364"],{"02f4":function(e,t,a){var r=a("4588"),o=a("be13");e.exports=function(e){return function(t,a){var i,s,n=String(o(t)),l=r(a),c=n.length;return l<0||l>=c?e?"":void 0:(i=n.charCodeAt(l),i<55296||i>56319||l+1===c||(s=n.charCodeAt(l+1))<56320||s>57343?e?n.charAt(l):i:e?n.slice(l,l+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var r=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},"0bfb":function(e,t,a){"use strict";var r=a("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"1b15":function(e,t,a){"use strict";var r=a("b335"),o=a.n(r);o.a},"214f":function(e,t,a){"use strict";a("b0c5");var r=a("2aba"),o=a("32e9"),i=a("79e5"),s=a("be13"),n=a("2b4c"),l=a("520a"),c=n("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var p=n(e),m=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),h=m?!i(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[c]=function(){return a}),a[p](""),!t}):void 0;if(!m||!h||"replace"===e&&!u||"split"===e&&!d){var f=/./[p],b=a(s,p,""[e],function(e,t,a,r,o){return t.exec===l?m&&!o?{done:!0,value:f.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}),v=b[0],C=b[1];r(String.prototype,e,v),o(RegExp.prototype,p,2==t?function(e,t){return C.call(e,this,t)}:function(e){return C.call(e,this)})}}},"23c6":function(e,t,a){var r=a("2d95"),o=a("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(a){}};e.exports=function(e){var t,a,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=s(t=Object(e),o))?a:i?r(t):"Object"==(n=r(t))&&"function"==typeof t.callee?"Arguments":n}},"28a5":function(e,t,a){"use strict";var r=a("aae3"),o=a("cb7c"),i=a("ebd6"),s=a("0390"),n=a("9def"),l=a("5f1b"),c=a("520a"),u=a("79e5"),d=Math.min,p=[].push,m="split",h="length",f="lastIndex",b=4294967295,v=!u(function(){RegExp(b,"y")});a("214f")("split",2,function(e,t,a,u){var C;return C="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[h]||2!="ab"[m](/(?:ab)*/)[h]||4!="."[m](/(.?)(.?)/)[h]||"."[m](/()()/)[h]>1||""[m](/.?/)[h]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return a.call(o,e,t);var i,s,n,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===t?b:t>>>0,v=new RegExp(e.source,u+"g");while(i=c.call(v,o)){if(s=v[f],s>d&&(l.push(o.slice(d,i.index)),i[h]>1&&i.index<o[h]&&p.apply(l,i.slice(1)),n=i[0][h],d=s,l[h]>=m))break;v[f]===i.index&&v[f]++}return d===o[h]?!n&&v.test("")||l.push(""):l.push(o.slice(d)),l[h]>m?l.slice(0,m):l}:"0"[m](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,r){var o=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,o,r):C.call(String(o),a,r)},function(e,t){var r=u(C,e,this,t,C!==a);if(r.done)return r.value;var c=o(e),p=String(this),m=i(c,RegExp),h=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),g=new m(v?c:"^(?:"+c.source+")",f),y=void 0===t?b:t>>>0;if(0===y)return[];if(0===p.length)return null===l(g,p)?[p]:[];var w=0,x=0,B=[];while(x<p.length){g.lastIndex=v?x:0;var S,I=l(g,v?p:p.slice(x));if(null===I||(S=d(n(g.lastIndex+(v?0:x)),p.length))===w)x=s(p,x,h);else{if(B.push(p.slice(w,x)),B.length===y)return B;for(var k=1;k<=I.length-1;k++)if(B.push(I[k]),B.length===y)return B;x=w=S}}return B.push(p.slice(w)),B}]})},"2a2b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{class:e.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:6}},[a("a-form-item",{attrs:{label:"员工姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.Keyword,callback:function(t){e.$set(e.formSearch,"Keyword",t)},expression:"formSearch.Keyword"}})],1)],1),a("a-col",{attrs:{md:6}},[a("a-form-item",{attrs:{label:"身份证",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.IDCard,callback:function(t){e.$set(e.formSearch,"IDCard",t)},expression:"formSearch.IDCard"}})],1)],1),a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"",labelCol:{span:0},wrapperCol:{span:24}}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:e.initPage}},[e._v("查询")]),a("a-button",{attrs:{type:"primary"},on:{click:e.addReimbursement}},[e._v("添加")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,bordered:!1,pagination:!1,size:"middle",rowKey:"SBBXGuid"},scopedSlots:e._u([{key:"BXStatus",fn:function(t,a){return[e._v("           \n          "+e._s(e.BXStatus[a.BXStatus])+"\n        ")]}},{key:"PaymentTo",fn:function(t,a){return[e._v("\n          "+e._s(e.PaymentTo[a.PaymentTo])+"                   \n        ")]}},{key:"EventCityCode",fn:function(t,a){return[e._v("\n          "+e._s(e.city[a.EventCityCode])+"                   \n        ")]}},{key:"BXClassCode",fn:function(t,a){return[e._v("\n          "+e._s(e.BXClass[a.BXClassCode])+"                   \n        ")]}},{key:"BXSubClassCode",fn:function(t,a){return[e._v("\n          "+e._s(e.BXSubClass[a.BXSubClassCode])+"                   \n        ")]}},{key:"CreateDate",fn:function(t,a){return[e._v("\n          "+e._s(e.moment(a.CreateDate).format("YYYY-MM-DD"))+"                 \n        ")]}},{key:"action",fn:function(t){return[a("a",{on:{click:function(a){return e.detail(t)}}},[e._v("\n            详情\n          ")])]}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,current:e.formSearch.current},on:{change:e.pagechange}})],1)],2)],1)],1),a("drawer-person-remove",{attrs:{show:e.drawer.remove,refresh:e.refreshPage}}),a("drawer-bx-detail",{attrs:{show:e.drawer.detail,refresh:e.refreshPage}}),a("drawer-person-edit",{attrs:{show:e.drawer.edit,refresh:e.refreshPage}}),a("drawer-add",{attrs:{show:e.drawer.add,refresh:e.refreshPage}})],1)},o=[],i=a("5176"),s=a.n(i),n=(a("7f7f"),a("ac6a"),a("b775")),l=a("b00c"),c=a("c32d"),u=a.n(c),d=a("bf8b"),p=a("6ea4"),m=a("dc65"),h=a("4650"),f=(a("1c46"),[{title:"状态",scopedSlots:{customRender:"BXStatus"}},{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"付款方向",scopedSlots:{customRender:"PaymentTo"}},{title:"联系方式",dataIndex:"LinkInfo"},{title:"发生城市",scopedSlots:{customRender:"EventCityCode"}},{title:"社保报销类型",scopedSlots:{customRender:"BXClassCode"}},{title:"报销类型子类",scopedSlots:{customRender:"BXSubClassCode"}},{title:"创建时间",scopedSlots:{customRender:"CreateDate"}},{title:"操作",scopedSlots:{customRender:"action"}}]),b={components:{DrawerBxDetail:h["default"],DrawerPersonRemove:d["default"],DrawerPersonEdit:p["default"],DrawerAdd:m["default"]},data:function(){return{advanced:!0,columns:f,formSearch:{pageSize:10,current:1,total:0,Keyword:"",IDCard:""},dataSource:[],selectedRowKeys:[],selectedRows:[],drawer:{add:{show:!1},remove:{show:!1},detail:{show:!1},edit:{show:!1}},map:{sbType:{},ShebaoOrderItemStatus:{},OrderStatusColor:{}},ShebaoOrderStatus:[],moment:u.a,PaymentTo:{},BXClass:{},BXSubClass:{},BXStatus:{},city:{}}},created:function(){var e=this;e.init()},methods:{init:function(){var e=this;n["a"].post("/api/Dim/Enum/EnumDecode",{Names:["ShebaoOrderItemStatus","sbType","Action","ActionType","OperatorType"]}).then(function(t){var a=t;0===a.code&&(e.map.ShebaoOrderItemStatus=a.data.ShebaoOrderItemStatus,e.map.sbType=a.data.sbType,e.map.OrderStatusColor=l["a"].EnumsOrder.OrderStatusColor)}).catch(function(e){console.log(e)}),n["a"].post("/api/Dim/Enum/GetEnum",{Names:["PaymentTo","BXStatus"]}).then(function(t){var a=t;0===a.code&&(a.data.PaymentTo.forEach(function(t,a){e.PaymentTo[t.key]=t.text}),a.data.BXStatus.forEach(function(t,a){e.BXStatus[t.key]=t.text}),e.pagechange(1))}).catch(function(e){console.log(e)}),n["a"].post("/api/Dim/Enum/GetDim",{Names:["city","BXClass","BXSubClass"]}).then(function(t){0===t.code&&(t.data.BXClass.forEach(function(t,a){e.BXClass[t.code]=t.name}),t.data.BXSubClass.forEach(function(t,a){e.BXSubClass[t.code]=t.name}),t.data.city.forEach(function(t,a){e.city[t.code]=t.name}),e.pagechange(1))}).catch(function(e){console.log(e)})},initPage:function(){this.pagechange(1)},refreshPage:function(){this.pagechange(this.formSearch.current)},pagechange:function(e){var t=this;t.formSearch.current=e;var a=s()({},t.formSearch);n["a"].post("/api/Shebao/Baoxiao/List",a).then(function(e){var a=e;0===a.code&&(t.dataSource=a.data.rows,t.formSearch.total=a.data.count)}).catch(function(e){console.log(e)})},showaddDrawer:function(){this.drawer.add={show:!0}},remove:function(){this.drawer.remove={show:!0,selectedRows:this.selectedRows}},removeSingle:function(e){var t=[];t.push(e),this.drawer.remove={show:!0,selectedRows:t}},detail:function(e){this.drawer.detail={show:!0,id:e.SBBXGuid,PaymentTo:this.PaymentTo,BXClass:this.BXClass,BXSubClass:this.BXSubClass,BXStatus:this.BXStatus,city:this.city}},edit:function(e){this.drawer.edit={show:!0,id:e.key,persondetail:null}},updateSelect:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},addReimbursement:function(){this.drawer.add={show:!0,persondetail:{IDCard:""}}}}},v=b,C=(a("69dc"),a("2877")),g=Object(C["a"])(v,r,o,!1,null,null,null);t["default"]=g.exports},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},4650:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{message:"",visible:this.visible.show,width:650,destroyOnClose:!0,closable:!1},on:{close:e.onClose}},[a("template",{slot:"title"},[e._v("\n    基本信息\n  ")]),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("姓名:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.bxdetail.person["姓名"]))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("身份证号:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.bxdetail.person["身份证号"]))])],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("手机号码:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.bxdetail.baoxiao.LinkInfo))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("创建时间:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.bxdetail.baoxiao.CreateDate))])],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("发生城市:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.visible.city[e.bxdetail.baoxiao.EventCityCode]))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("付款方向:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.visible.PaymentTo[e.bxdetail.baoxiao.PaymentTo]))])],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("社保报销类型:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.visible.BXClass[e.bxdetail.baoxiao.BXClassCode]))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("报销类型子类:")]),a("a-col",{attrs:{span:6}},[e._v(e._s(e.visible.BXSubClass[e.bxdetail.baoxiao.BXSubClassCode]))])],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("需要准备材料:")]),a("a-col",{attrs:{span:20}},[e.baoxiaoCailiao&&!!e.baoxiaoCailiao.length>0?[a("p",{staticClass:"cailiao"},e._l(e.baoxiaoCailiao,function(t){return a("span",{key:t.BXCLItemGuid},[e._v(e._s(t.OrderNo+"."+t.CailiaoName))])}),0)]:[e._v("\n          "+e._s(e.baoxiaoMsg)+"\n      ")]],2)],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[e._v("备注:")]),a("a-col",{attrs:{span:18}},[e._v(e._s(e.bxdetail.baoxiao.Remarks))])],1),a("a-tabs",{staticStyle:{"margin-top":"30px"},attrs:{type:"card",defaultActiveKey:"1"},on:{change:e.callback}},[a("a-tab-pane",{key:"1",staticStyle:{"margin-top":"40px"},attrs:{tab:"申报记录"}},[e.bxdetail.log.length>0?[a("a-timeline",e._l(e.bxdetail.log,function(t){return a("a-timeline-item",{key:t.LogGuid},[a("p",[e._v(e._s(t.LogTime)+" "),a("a-divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.visible.BXStatus[t.BXStatus])+" ")],1),a("p",[e._v(e._s(t.Remarks))])])}),1)]:e._e(),0==e.bxdetail.log.length?[a("div",[a("a-row",{staticStyle:{"text-align":"center"}},[a("a-icon",{attrs:{type:"smile"}}),e._v(" 暂无记录")],1)],1)]:e._e()],2),a("a-tab-pane",{key:"2",attrs:{tab:"收款账号信息"}},[a("div",{staticClass:"invoice-box"},[a("table",{staticClass:"invoice"},[a("tr",[a("td",{attrs:{width:"100px",align:"right"}},[e._v("银行名称：")]),a("td",{attrs:{width:"150px"}},[e._v(e._s(e.bxdetail.bankAccountInfo.BankAccountName))]),a("td",{attrs:{width:"100px",align:"right"}},[e._v("银行账号：")]),a("td",{attrs:{width:"150px"}},[e._v(e._s(e.bxdetail.bankAccountInfo.BankAccount))])]),a("tr",[a("td",{attrs:{align:"right"}},[e._v("开户行：")]),a("td",[e._v(e._s(e.bxdetail.bankAccountInfo.BankName))]),a("td",{attrs:{align:"right"}},[e._v("账号类型：")]),a("td",[e._v(e._s(e.visible.PaymentTo[e.bxdetail.bankAccountInfo.BankAccountType]))])])])])])],1)],2)},o=[],i=a("b775"),s=(a("b00c"),a("c32d"),{components:{},props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,id:{},PaymentTo:{},BXClass:{},BXSubClass:{},BXStatus:{},city:{}},bxdetail:{person:{"姓名":"","身份证号":""},bankAccountInfo:{},baoxiao:{LinkInfo:"",CreateDate:"",EventCityCode:"",PaymentTo:"",BXClassCode:"",BXSubClassCode:"",Cailiao:null,Remarks:""},log:[]},drawer:{},baoxiaoCailiao:[],baoxiaoMsg:""}},created:function(){var e=this;this.$watch("show",function(t,a){e.visible=t,e.visible.show&&e.init()})},methods:{init:function(){var e=this;i["a"].post("/api/Shebao/Baoxiao/Detail",{SBBXGuid:e.show.id}).then(function(t){var a=t;0===a.code&&(e.bxdetail=a.data,e.searchCailiao())}).catch(function(e){console.log(e)})},onClose:function(){this.visible.show=!1,this.baoxiaoCailiao=[],this.baoxiaoMsg="",this.bxdetail={person:{"姓名":"","身份证号":""},bankAccountInfo:{},baoxiao:{LinkInfo:"",CreateDate:"",EventCityCode:"",PaymentTo:"",BXClassCode:"",BXSubClassCode:"",Cailiao:null,Remarks:""},log:[]},this.refresh()},callback:function(e){},searchCailiao:function(){var e=this,t={RLZGUID:e.bxdetail.baoxiao.RLZGUID,BXClassCode:e.bxdetail.baoxiao.BXClassCode,BXSubClassCode:e.bxdetail.baoxiao.BXSubClassCode,EventCityCode:e.bxdetail.baoxiao.EventCityCode};i["a"].post("/api/Other/BaoxiaoCailiao/Find",t).then(function(t){var a=t;0===a.code?(e.baoxiaoCailiao=a.data.rows,0==a.data.rows.length?e.baoxiaoMsg="此享受项目未找到材料名录，请等待客户电话沟通":e.baoxiaoMsg=""):(e.baoxiaoCailiao="",e.baoxiaoMsg=a.msg)}).catch(function(e){console.log(e)})}}}),n=s,l=(a("8f09"),a("2877")),c=Object(l["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},5176:function(e,t,a){e.exports=a("51b6")},"520a":function(e,t,a){"use strict";var r=a("0bfb"),o=RegExp.prototype.exec,i=String.prototype.replace,s=o,n="lastIndex",l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[n]||0!==t[n]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(s=function(e){var t,a,s,u,d=this;return c&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),l&&(t=d[n]),s=o.call(d,e),l&&s&&(d[n]=d.global?s.index+s[0].length:t),c&&s&&s.length>1&&i.call(s[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s}),e.exports=s},"5d6b":function(e,t,a){var r=a("e53d").parseInt,o=a("a1ce").trim,i=a("e692"),s=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var a=o(String(e),3);return r(a,t>>>0||(s.test(a)?16:10))}:r},"5f1b":function(e,t,a){"use strict";var r=a("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"61f7":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});a("28a5");function r(e){var t=!0;if((t&&!e||!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))&&(t=!1),t&&18==e.length){for(var a=e.split(""),r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=[1,0,"X",9,8,7,6,5,4,3,2],i=0,s=0,n=0,l=0;l<17;l++)s=a[l],n=r[l],i+=s*n;o[i%11]!=a[17]&&(t=!1)}return t}function o(e){var t=/^1[3|4|5|6|7|8|9][0-9]\d{8}$/;return t.test(e)}},"69dc":function(e,t,a){"use strict";var r=a("9b1d"),o=a.n(r);o.a},"6b54":function(e,t,a){"use strict";a("3846");var r=a("cb7c"),o=a("0bfb"),i=a("9e1e"),s="toString",n=/./[s],l=function(e){a("2aba")(RegExp.prototype,s,e,!0)};a("79e5")(function(){return"/a/b"!=n.call({source:"a",flags:"b"})})?l(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):n.name!=s&&l(function(){return n.call(this)})},"6ea4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"增员",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:700}},[a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["PName",{initialValue:e.visible.persondetail.PName,rules:e.AFormImportRules.PName}],expression:"['PName',{initialValue:visible.persondetail.PName,rules:AFormImportRules.PName  }]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["IDCard",{initialValue:e.visible.persondetail.IDCard,rules:e.AFormImportRules.IDCard}],expression:"['IDCard',{initialValue:visible.persondetail.IDCard,rules:AFormImportRules.IDCard  }]"}],attrs:{disabled:null!=e.visible.id}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"手机号码",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Mobile",{initialValue:e.visible.persondetail.Mobile,rules:e.AFormImportRules.Mobile}],expression:"['Mobile',{initialValue:visible.persondetail.Mobile,rules:AFormImportRules.Mobile }]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"电子信箱",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Email",{initialValue:e.visible.persondetail.Email,rules:e.AFormImportRules.Email}],expression:"['Email',{initialValue:visible.persondetail.Email,rules:AFormImportRules.Email }]"}]})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"参保城市",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["CityCode",{rules:e.AFormImportRules.CityCode}],expression:"['CityCode',{rules:AFormImportRules.CityCode }]"}],attrs:{placeholder:"请选择城市",allowClear:!0},on:{change:e.onCityChange}},e._l(e.dimCity,function(t){return a("a-select-option",{key:t.CityCode},[e._v(e._s(t.Value))])}),1)],1)],1),a("a-col",{attrs:{span:12}})],1),a("a-divider",{attrs:{dashed:""}},[e._v("社保信息")]),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"社保开始日期",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["SBBeginDate",{initialValue:e.visible.persondetail.SBBeginDate,rules:e.AFormImportRules.SBBeginDate}],expression:"['SBBeginDate',{initialValue: visible.persondetail.SBBeginDate,rules:AFormImportRules.SBBeginDate }]"}],attrs:{format:"YYYY-MM-DD"},on:{change:e.handleSBBeginDateSelectChange}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"工资",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Salary",{initialValue:e.visible.persondetail.Salary,rules:e.AFormImportRules.Salary}],expression:"['Salary',{initialValue: visible.persondetail.Salary,rules:AFormImportRules.Salary }]"}],attrs:{type:"number",step:"0.01"}})],1)],1)],1),a("a-divider",{attrs:{dashed:""}},[e._v("公积金信息")]),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"公积金开始日期",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["GJJBeginDate",{initialValue:e.visible.persondetail.GJJBeginDate,rules:e.AFormImportRules.GJJBeginDate}],expression:"['GJJBeginDate',{initialValue: visible.persondetail.GJJBeginDate,rules:AFormImportRules.GJJBeginDate }]"}],attrs:{format:"YYYY-MM-DD"},on:{change:e.handleGJJBeginDateSelectChange}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"公积金基数",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["GJJBase",{initialValue:e.visible.persondetail.GJJBase,rules:e.AFormImportRules.GJJBase}],expression:"['GJJBase',{initialValue: visible.persondetail.GJJBase,rules:AFormImportRules.GJJBase }]"}],attrs:{type:"number"}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"公积金企业比例",labelCol:{span:10},wrapperCol:{span:14}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["GJJBili",{initialValue:e.visible.persondetail.gjjbili,rules:e.AFormImportRules.Bili}],expression:"['GJJBili',{initialValue: visible.persondetail.gjjbili,rules:AFormImportRules.Bili }]"}],attrs:{placeholder:"请选择比例",allowClear:!0}},[a("span",{staticStyle:{"font-weight":"600",color:"#aaa"},attrs:{slot:"suffixIcon"},slot:"suffixIcon"},[e._v("%")]),e._l(e.gjjBLdata,function(t){return a("a-select-option",{key:t.text},[e._v(e._s(t.text))])})],2)],1)],1),a("a-col",{attrs:{span:12}})],1),a("a-divider",{attrs:{dashed:""}},[e._v("备注")]),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remark",{initialValue:e.visible.persondetail.Remark}],expression:"['Remark',{initialValue:visible.persondetail.Remark }]"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1)],1),a("a-card",{staticClass:"markdown",attrs:{bordered:!1,title:"事项说明"}},[a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[e._v("增减员直接派送至客服与系统中增减员同时存在时，将以直接派送到客服的数据为准")])]),a("li",[e._v("系统中增减员派单与当地社保政策不符时，客服将与您沟通并修改派单信息")]),a("li",[e._v("系统中增员派单信息在客服受理前可自行修改，受理后若对派单信息做调整请联系专属客服")])])]),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:e.onClose}},[e._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")]),null==e.visible.id?a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleSubmit("next")}}},[e._v("提交并继续增员")]):e._e()],1)],1)},o=[],i=(a("6b54"),a("7514"),a("28a5"),a("e814")),s=a.n(i),n=a("61f7"),l=a("c32d"),c=a.n(l),u=a("b775"),d=(a("1c46"),{props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,persondetail:{IDCard:"",PName:""}},dimCity:[],gjjBLdata:[],form:this.$form.createForm(this),AFormImportRules:{SBBeginDate:[{required:!0,transform:this.beginDate,message:"请社保开始日期"}],GJJBeginDate:[{required:!0,transform:this.beginDate,message:"请公积金开始日期"}],Salary:[{required:!0,message:"请输入工资"},{validator:this.checkPrice}],GJJBase:[{required:!0,message:"请输入公积金基数"},{validator:this.checkPrice}],PName:[{required:!0,message:"请输入姓名"}],IDCard:[{required:!0,message:"请输入身份证号"},{validator:this.handleConfirmIDCard}],Mobile:[{required:!0,message:"请输入手机号"},{validator:this.handleConfirmMobile}],Email:[{required:!1,message:"请输入电子信箱"},{type:"email",message:"邮箱格式不正确!"}],CityCode:[{required:!0,message:"请选择参保城市"}],Bili:[{required:!0,message:"请选择公积金比例"}]}}},watch:{visible:function(e,t){e.show&&null!=e.id?(null!=e.persondetail.SBBeginDate?e.persondetail.SBBeginDate=c()(e.persondetail.SBBeginDate):(this.AFormImportRules.SBBeginDate[0].required=!1,this.AFormImportRules.Salary[0].required=!1),null!=e.persondetail.GJJBeginDate?e.persondetail.GJJBeginDate=c()(e.persondetail.GJJBeginDate):(this.AFormImportRules.GJJBeginDate[0].required=!1,this.AFormImportRules.GJJBase[0].required=!1,this.AFormImportRules.Bili[0].required=!1),e.persondetail.GJJBiliC&&e.persondetail.GJJBiliP&&(e.persondetail.gjjbili=e.persondetail.GJJBiliC+"+"+e.persondetail.GJJBiliP)):(e.persondetail={CityCode:"1301"},this.AFormImportRules.SBBeginDate[0].required=!1,this.AFormImportRules.Salary[0].required=!1,this.AFormImportRules.GJJBeginDate[0].required=!1,this.AFormImportRules.GJJBase[0].required=!1,this.AFormImportRules.Bili[0].required=!1),this.onCityChange(e.persondetail.CityCode)},show:function(e,t){var a=this;e.show&&a.init(),null!=e.id&&null===e.persondetail?u["a"].post("/api/Shebao/Order/OrderDetail",{SBOrderGuid:e.id}).then(function(t){var r=t;0===r.code&&(e.persondetail=r.data.detail,a.visible=e)}).catch(function(e){console.log(e)}):a.visible=e}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){var e=this;u["a"].post("/api/User/Service/ComServiceTree").then(function(t){var a=t;0===a.code&&(e.dimCity=a.data)}).catch(function(e){console.log(e)})},handleSubmit:function(e){var t=this;this.form.validateFields(function(a,r){if(!a){var o=r;r.GJJBili&&(o.GJJBiliC=s()(r.GJJBili.split("+")[0]),o.GJJBiliP=s()(r.GJJBili.split("+")[1])),r.GJJBeginDate&&(o.GJJBeginDate=c()(r.GJJBeginDate).format("YYYY-MM-01")),r.SBBeginDate&&(o.SBBeginDate=c()(r.SBBeginDate).format("YYYY-MM-01")),u["a"].post("/api/Shebao/Order/Add",o).then(function(a){var r=a;r.code>0?t.$message.error(r.msg):("next"===e?(t.form.resetFields(),t.refresh&&t.refresh()):t.onClose(),t.$message.success(r.msg))}).catch(function(e){console.log(e)})}})},handleGJJBeginDateSelectChange:function(e,t){e?(this.AFormImportRules.GJJBeginDate[0].required=!0,this.AFormImportRules.GJJBase[0].required=!0,this.AFormImportRules.Bili[0].required=!0):this.visible.persondetail.GJJBeginDate||(this.AFormImportRules.GJJBeginDate[0].required=!1,this.AFormImportRules.GJJBase[0].required=!1,this.AFormImportRules.Bili[0].required=!1),this.form.setFieldsValue({GJJBase:this.form.getFieldValue("GJJBase")}),this.form.setFieldsValue({GJJBili:this.form.getFieldValue("GJJBili")})},handleSBBeginDateSelectChange:function(e){e?(this.AFormImportRules.Salary[0].required=!0,this.AFormImportRules.SBBeginDate[0].required=!0):this.visible.persondetail.SBBeginDate||(this.AFormImportRules.Salary[0].required=!1,this.AFormImportRules.SBBeginDate[0].required=!1),this.form.setFieldsValue({Salary:this.form.getFieldValue("Salary")})},handleConfirmIDCard:function(e,t,a){!t||Object(n["a"])(t)?a():a("身份证号不符合规则！")},handleConfirmMobile:function(e,t,a){!t||Object(n["b"])(t)?a():a("手机号码不符合规则！")},checkPrice:function(e,t,a){var r=/^[0-9]*\.?[0-9]{0,2}$/;!t||t>0&&r.test(t)?a():a("为空或者大于零且小数最多两位")},filter:function(e,t){return t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})},onCityChange:function(e,t){var a=this;u["a"].post("/api/User/Service/GJJBili",{CityCode:e}).then(function(e){var r=e;if(0===r.code&&(a.gjjBLdata=r.data.bili,t)){var o=a.gjjBLdata.find(function(e){return e.text===a.form.getFieldValue("GJJBili")});o?a.form.setFieldsValue({GJJBili:a.form.getFieldValue("GJJBili")}):a.form.setFieldsValue({GJJBili:void 0})}}).catch(function(e){console.log(e)})},beginDate:function(e){if(e){var t=e.startOf("month").toString();return t}}}}),p=d,m=a("2877"),h=Object(m["a"])(p,r,o,!1,null,null,null);t["default"]=h.exports},7445:function(e,t,a){var r=a("63b6"),o=a("5d6b");r(r.G+r.F*(parseInt!=o),{parseInt:o})},"896c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"新增银行账户",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:400}},[a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"账号类型",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BankAccountType",{rules:e.AFormImportRules.inpSelect}],expression:"['BankAccountType',{rules:AFormImportRules.inpSelect}]"}],attrs:{allowClear:!0}},e._l(e.visible.PaymentTo,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"银行名称",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["BankAccountName",{rules:e.AFormImportRules.input}],expression:"['BankAccountName',{rules:AFormImportRules.input}]"}]})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"开户行",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["BankName",{rules:e.AFormImportRules.input}],expression:"['BankName',{rules:AFormImportRules.input}]"}]})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"账号",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["BankAccount",{rules:e.AFormImportRules.input}],expression:"['BankAccount',{rules:AFormImportRules.input}]"}]})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks",{rules:e.AFormImportRules.Remark}],expression:"['Remarks',{rules:AFormImportRules.Remark }]"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:e.onClose}},[e._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)},o=[],i=(a("61f7"),a("c32d"),a("b775")),s=(a("1c46"),{props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,persondetail:{IDCard:"",PName:""},PGUID:""},dimCity:[],gjjBLdata:[],form:this.$form.createForm(this),AFormImportRules:{input:[{required:!0,message:"请输入"}],inpSelect:[{required:!0,message:"请选择"}],Remark:[{required:!1,message:""}]}}},watch:{visible:function(e,t){},show:function(e,t){var a=this;e.show&&(a.init(),a.visible=e)}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){},handleSubmit:function(e){var t=this;this.form.validateFields(function(a,r){if(!a){var o=r;"10"==r.BankAccountType&&(o.PGUID=t.visible.PGUID),i["a"].post("/api/Other/BankAccountInfo/Add",o).then(function(a){var r=a;r.code>0?t.$message.error(r.msg):("next"===e?(t.form.resetFields(),t.refresh&&t.refresh()):t.onClose(),t.$message.success(r.msg))}).catch(function(e){console.log(e)})}})}}}),n=s,l=a("2877"),c=Object(l["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},"8f09":function(e,t,a){"use strict";var r=a("f936"),o=a.n(r);o.a},"9b1d":function(e,t,a){},a1ce:function(e,t,a){var r=a("63b6"),o=a("25eb"),i=a("294c"),s=a("e692"),n="["+s+"]",l="​",c=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),d=function(e,t,a){var o={},n=i(function(){return!!s[e]()||l[e]()!=l}),c=o[e]=n?t(p):s[e];a&&(o[a]=c),r(r.P+r.F*n,"String",o)},p=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aae3:function(e,t,a){var r=a("d3f4"),o=a("2d95"),i=a("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},b00c:function(e,t,a){"use strict";var r={OrderStatus:{10:"增员中",20:"增员已受理",30:"减员中",40:"减员已受理",50:"已报减"},OrderStatusColor:{10:"blue",20:"green",30:"yellow",40:"red"},sbType:{10:"养老",20:"失业",30:"工伤",40:"医疗",50:"公积金"},sbChangeType:{1:"派入",2:"修改",3:"减员"},ShebaoOrderItemStatus:{10:"申报中",20:"申报已受理",30:"报减中",40:"报减已受理"}},o={BillStatus:{0:"待确认",1:"已确认",2:"回退"},BillStatusColor:{0:"blue",1:"green",2:"red"}};t["a"]={EnumsOrder:r,EnumsShebaoBill:o}},b0c5:function(e,t,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b335:function(e,t,a){},b9e9:function(e,t,a){a("7445"),e.exports=a("584a").parseInt},bf8b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"减员",visible:this.visible.show,closable:!1,maskClosable:!1,width:600}},[a("a-table",{attrs:{columns:e.columns,dataSource:this.show.selectedRows,bordered:!1,pagination:{pageSize:5},size:"middle"}}),a("a-divider",[e._v("社保信息")]),a("a-form",{attrs:{form:e.form}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"社保截止日期",labelCol:{span:12},wrapperCol:{span:12}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["SBEndDate",e.AFormImportRules.SBEndDate],expression:"['SBEndDate',AFormImportRules.SBEndDate]"}],attrs:{format:"YYYY-MM-DD"},on:{change:e.sbEndDateChange}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"申领失业金",labelCol:{span:12},wrapperCol:{span:12}}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["reqShiyejin"],expression:"['reqShiyejin']"}],attrs:{checkedChildren:"是",unCheckedChildren:"否",defaultunChecked:""}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"离职原因",labelCol:{span:12},wrapperCol:{span:12}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["lzReason",e.AFormImportRules.lzReason],expression:"['lzReason',AFormImportRules.lzReason]"}]},[a("a-select-option",{attrs:{value:"合同到期解除"}},[e._v("合同到期解除")]),a("a-select-option",{attrs:{value:"个人辞职"}},[e._v("个人辞职")])],1)],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:19,offset:5}},[a("a-form-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["lzRemarks"],expression:"['lzRemarks']"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1),a("a-card",{staticClass:"markdown",attrs:{bordered:!1,title:"事项说明"}},[a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[e._v("增减员直接派送至客服与系统中增减员同时存在时，将以直接派送到客服的数据为准")])]),a("li",[e._v("系统中增减员派单与当地社保政策不符时，客服将与您沟通并修改派单信息")]),a("li",[e._v("减员派单不允许修改，若需修改请联系专属客服")]),a("li",[e._v("系统中不允许单减某个险种，若需单减某个险种请联系专属客服")])])]),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:e.onClose}},[e._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)},o=[],i=a("bd86"),s=(a("ac6a"),a("b775")),n=[{title:"员工姓名",dataIndex:"PName"},{title:"证件号码",dataIndex:"IDCard"}],l={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1},columns:n,form:this.$form.createForm(this),AFormImportRules:{lzReason:{rules:[{required:!0,message:"请选择离职原因"}]},SBEndDate:{rules:[{required:!0,message:"请选择社保截止日期"}]}}}},created:function(){var e=this;this.$watch("show",function(t,a){e.visible=t})},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh()},handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){if(!t){var r=a;r.Key=[],console.log(e.show.selectedRows),e.show.selectedRows.forEach(function(e){r.Key.push(e.key)}),s["a"].post("/api/Shebao/Order/Remove",a).then(function(t){var a=t;a.code>0?e.$message.error(a.msg):(e.$message.success(a.msg),e.onClose())}).catch(function(e){console.log(e)})}})},sbEndDateChange:function(e){if(e){var t=e.endOf("month");this.form.setFields(Object(i["a"])({},"SBEndDate",{value:t,errors:null}))}}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},dc65:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"申请社保享受",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:550}},[a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form}},[e.visible.persondetail.IDCard?[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:18}}},[e._v("\n            "+e._s(e.visible.persondetail.IDCard)+"\n          ")])],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:18}}},[e._v("\n            "+e._s(e.visible.persondetail.PName)+"\n          ")])],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"联系信息",labelCol:{span:6},wrapperCol:{span:18}}},[e._v("\n            "+e._s(e.visible.persondetail.rzMobile)+"\n          ")])],1)],1)]:[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{attrs:{"show-search":"",placeholder:"请输入身份证号搜索","show-arrow":!1,"filter-option":!1,value:e.IDCard},on:{search:e.searchPerson,select:e.handleChange,blur:e.blurSearch}},e._l(e.invoice,function(t){return a("a-select-option",{key:t.key},[e._v("\n                "+e._s(t.PName)+" ("+e._s(e.ShebaoOrderStatus[t.Status])+")\n              ")])}),1),e.checkIDcard?a("div",{staticClass:"checkText"},[e._v(e._s(e.checkIDcard))]):e._e()],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["PName",{initialValue:e.selectInvoice.PName}],expression:"['PName',{initialValue:selectInvoice.PName,}]"}],attrs:{readOnly:e.read}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"联系信息",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["PName",{initialValue:e.selectInvoice.rzMobile}],expression:"['PName',{initialValue:selectInvoice.rzMobile,}]"}],attrs:{readOnly:e.read}})],1)],1)],1)],a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"社保报销类型",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BXClassCode",{rules:e.AFormImportRules.inpSelect}],expression:"['BXClassCode',{rules:AFormImportRules.inpSelect }]"}],attrs:{allowClear:!0,disabled:!e.selectInvoice.key},on:{change:e.BXclassChange}},e._l(e.BXClass,function(t){return a("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1),e.BXClassCode.length>0?a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"报销类型子类",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BXSubClassCode",{rules:e.AFormImportRules.inpSelect}],expression:"['BXSubClassCode',{rules:AFormImportRules.inpSelect }]"}],attrs:{allowClear:!0,disabled:!e.selectInvoice.key},on:{change:e.BXsubChange}},e._l(e.BXClassCode,function(t){return a("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1):e._e()],1),21!=e.searchCailiao.BXClassCode&&22!=e.searchCailiao.BXClassCode?a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"发生城市",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["EventCityCode",{rules:e.AFormImportRules.inpSelect}],expression:"['EventCityCode',{rules:AFormImportRules.inpSelect }]"}],attrs:{options:e.options,placeholder:"请选择",allowClear:!1,disabled:!e.selectInvoice.key},on:{change:e.onChange}})],1)],1)],1):e._e(),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"需要准备材料",labelCol:{span:6},wrapperCol:{span:18}}},[e.baoxiaoCailiao&&!!e.baoxiaoCailiao.length>0?[a("p",{staticClass:"cailiao"},e._l(e.baoxiaoCailiao,function(t){return a("span",{key:t.BXCLItemGuid},[e._v(e._s(t.OrderNo+"."+t.CailiaoName))])}),0)]:[e._v("\n                "+e._s(e.baoxiaoMsg)+"\n            ")]],2)],1)],1),10==e.serviceType?[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"付款方向",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["PaymentTo",{rules:e.AFormImportRules.inpSelect}],expression:"['PaymentTo',{rules:AFormImportRules.inpSelect }]"}],attrs:{allowClear:!0,disabled:!e.selectInvoice.key},on:{change:e.paymentChange}},e._l(e.PaymentTo,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:18}},[a("a-form-item",{attrs:{label:"银行账户信息",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BankAccountInfoGuid",{rules:e.AFormImportRules.inpSelect}],expression:"['BankAccountInfoGuid',{rules:AFormImportRules.inpSelect }]"}],attrs:{allowClear:!0,disabled:!e.selectInvoice.key}},e._l(e.bankAccountList,function(t){return a("a-select-option",{key:t.BankAccountInfoGuid},[e._v(e._s(t.BankAccountName)+"--"+e._s(t.BankAccount)+"--"+e._s(t.BankName))])}),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-button",{staticStyle:{margin:"4px 0 0 10px"},attrs:{type:"primary"},on:{click:e.newBankAccount}},[e._v("新增账户")])],1)],1)]:e._e(),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks",{rules:e.AFormImportRules.Remark}],expression:"['Remarks',{rules:AFormImportRules.Remark }]"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],2)],1),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:e.onClose}},[e._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")])],1),a("drawer-add-account",{attrs:{show:e.drawer.addaccount,refresh:e.refreshPaymentChange}})],1)},o=[],i=(a("ac6a"),a("61f7")),s=(a("c32d"),a("b775")),n=a("896c"),l=(a("1c46"),{components:{DrawerAddAccount:n["default"]},props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,persondetail:{IDCard:"",PName:""}},dimCity:[],gjjBLdata:[],form:this.$form.createForm(this),AFormImportRules:{inpSelect:[{required:!0,message:"请选择"}],inpSelectNo:[{required:!1,message:"请选择"}],Remark:[{required:!1,message:"请选择"}],IDCard:[{required:!0,message:"请输入身份证号"},{validator:this.handleConfirmIDCard}],Mobile:[{required:!0,message:"请输入手机号"},{validator:this.handleConfirmMobile}],Email:[{required:!1,message:"请输入电子信箱"},{type:"email",message:"邮箱格式不正确!"}]},CityCode:[{required:!0,message:"请选择参保城市"}],idCardValue:"",invoice:[],IDCard:"",selectInvoice:{},BXClass:[],BXClassCode:[],options:[],PaymentTo:[],bankAccountList:[],drawer:{addaccount:{show:!1},paymentType:""},checkIDcard:"",searchCailiao:{RLZGUID:"",BXClassCode:"",BXSubClassCode:"",EventCityCode:""},baoxiaoCailiao:[],baoxiaoMsg:"",read:!0,serviceType:""}},watch:{visible:function(e,t){},show:function(e,t){var a=this;e.show&&(a.init(),a.visible=e,a.selectInvoice=a.visible.persondetail)}},methods:{onClose:function(){this.visible.show=!1,this.IDCard="",this.options=[],this.bankAccountList=[],this.paymentType="",this.PaymentTo=[],this.checkIDcard="",this.BXClass=[],this.BXClassCode=[],this.baoxiaoCailiao=[],this.baoxiaoMsg="",this.invoice=[],this.refresh&&this.refresh(),this.form.resetFields()},init:function(){var e=this;console.log(!!e.selectInvoice.key),s["a"].post("/api/Dim/Enum/GetDim",{Names:["BXClass"]}).then(function(t){0===t.code&&(e.BXClass=t.data.BXClass)}).catch(function(e){console.log(e)}),s["a"].post("/api/Dim/Enum/ProvinceCityTree",{Names:["ProvinceCityTree"]}).then(function(t){0===t.code&&(e.options=t.data.tree)}).catch(function(e){console.log(e)}),s["a"].post("/api/Dim/Enum/EnumDecode",{Names:["ShebaoOrderStatus"]}).then(function(t){var a=t;0===a.code&&(e.ShebaoOrderStatus=a.data.ShebaoOrderStatus)}).catch(function(e){console.log(e)}),s["a"].post("/api/Dim/Enum/GetEnum",{Names:["PaymentTo"]}).then(function(t){var a=t;0===a.code&&(e.PaymentTo=a.data.PaymentTo)}).catch(function(e){console.log(e)}),s["a"].post("/api/Other/Com/Info",{}).then(function(t){var a=t;0===a.code&&(e.serviceType=a.data.com.ServiceType)}).catch(function(e){console.log(e)})},handleSubmit:function(e){var t=this;t.selectInvoice.key?this.form.validateFields(function(e,a){if(!e){var r=a;r.RLZGUID=t.selectInvoice.key,r.LinkInfo=t.selectInvoice.rzMobile,a.EventCityCode.length>0&&(r.EventCityCode=a.EventCityCode[a.EventCityCode.length-1]),s["a"].post("/api/Shebao/Baoxiao/Add",r).then(function(e){var a=e;a.code>0?t.$message.error(a.msg):(t.onClose(),t.$message.success(a.msg))}).catch(function(e){console.log(e)})}}):t.$message.error("请先输入身份证号选择员工")},handleConfirmIDCard:function(e,t,a){!t||Object(i["a"])(t)?a():a("身份证号不符合规则！")},handleConfirmMobile:function(e,t,a){!t||Object(i["b"])(t)?a():a("手机号码不符合规则！")},filter:function(e,t){return t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})},onCityChange:function(e,t){},searchPerson:function(e){var t=this;t.IDCard=e,e&&Object(i["a"])(e)?s["a"].post("/api/Shebao/Order/List",{pageSize:10,current:1,total:0,IDCard:e}).then(function(e){var a=e;0===a.code&&(0==a.data.count?(t.checkIDcard="没有该员工",t.selectInvoice={}):(t.invoice=a.data.rows,t.checkIDcard=""))}).catch(function(e){console.log(e)}):t.invoice=[]},blurSearch:function(e){!e||Object(i["a"])(e)?this.checkIDcard="":(this.checkIDcard="身份证号不符合规则！",this.invoice=[])},handleChange:function(e){var t=this;this.invoice.forEach(function(a,r){a.key==e&&(t.selectInvoice=a)})},BXclassChange:function(e){var t=this;t.searchCailiao.BXClassCode=e,"21"!=e&&"22"!=e||(t.searchCailiao.EventCityCode=""),s["a"].post("/api/Dim/Enum/GetBXSubClass",{BXClassCode:e}).then(function(e){var a=e;0===a.code&&(t.BXClassCode=a.data.bxsubclass,t.searchCailiao.BXSubClassCode="",t.form.resetFields("BXSubClassCode",""),t.searchCailiaoFun())}).catch(function(e){console.log(e)})},BXsubChange:function(e){var t=this;t.searchCailiao.BXSubClassCode=e,t.searchCailiaoFun()},onChange:function(e){var t=this;e.length>0&&(t.searchCailiao.EventCityCode=e[e.length-1]),t.searchCailiaoFun()},searchCailiaoFun:function(){var e=this;if(!e.selectInvoice.key)return e.$message.error("请先输入身份证号选择员工"),void(e.baoxiaoMsg="请先输入身份证号选择员工");e.searchCailiao.RLZGUID=e.selectInvoice.key,s["a"].post("/api/Other/BaoxiaoCailiao/Find",e.searchCailiao).then(function(t){var a=t;0===a.code?(e.baoxiaoCailiao=a.data.rows,0==a.data.rows.length?e.baoxiaoMsg="此享受项目未找到材料名录，请等待客户电话沟通":e.baoxiaoMsg=""):(e.baoxiaoCailiao="",e.baoxiaoMsg=a.msg)}).catch(function(e){console.log(e)})},paymentChange:function(e){var t=this,a={};t.bankAccountList=[],t.paymentType=e,a="10"==t.paymentType?{BankAccountType:t.paymentType,PGUID:t.selectInvoice.PGUID,pageSize:50,current:1}:{BankAccountType:t.paymentType,pageSize:50,current:1},s["a"].post("/api/Other/BankAccountInfo/List",a).then(function(e){var a=e;0===a.code?(t.bankAccountList=a.data.rows,t.form.resetFields("BankAccountInfoGuid","")):t.$message.error(a.msg)}).catch(function(e){console.log(e)})},refreshPaymentChange:function(){var e=this,t={};e.bankAccountList=[],t="10"==e.paymentType?{BankAccountType:e.paymentType,PGUID:e.selectInvoice.PGUID,pageSize:50,current:1}:{BankAccountType:e.paymentType,pageSize:50,current:1},s["a"].post("/api/Other/BankAccountInfo/List",t).then(function(t){var a=t;0===a.code&&(e.bankAccountList=a.data.rows)}).catch(function(e){console.log(e)})},newBankAccount:function(){this.drawer.addaccount={show:!0,PaymentTo:this.PaymentTo,PGUID:this.selectInvoice.PGUID}}}}),c=l,u=(a("1b15"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"1a578040",null);t["default"]=d.exports},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,a){e.exports=a("b9e9")},ebd6:function(e,t,a){var r=a("cb7c"),o=a("d8e8"),i=a("2b4c")("species");e.exports=function(e,t){var a,s=r(e).constructor;return void 0===s||void 0==(a=r(s)[i])?t:o(a)}},f936:function(e,t,a){}}]);