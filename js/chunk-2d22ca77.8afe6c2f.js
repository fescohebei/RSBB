(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22ca77"],{f3c7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"上传个税专项附加表",visible:this.visible.show,width:350,destroyOnClose:!0},on:{close:e.onClose}},[a("a-spin",{attrs:{tip:"上传中",spinning:e.spinning}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"所属月份","label-col":{span:8},"wrapper-col":{span:16}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["NianYue",e.AFormImportRules.NianYue],expression:"['NianYue',AFormImportRules.NianYue]"}]})],1),a("a-form-item",[a("a-upload-dragger",{attrs:{name:"file",multiple:!1,action:"/api/Salary/Deduct/UploadFile",accept:".xls, .xlsx",showUploadList:!1,withCredentials:!0,beforeUpload:e.uploadbefore,data:e.FormImportData},on:{change:e.uploadchange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[e._v("\n              将文件拖到此处，或\n              "),a("a-tag",{attrs:{color:"#2db7f5"}},[e._v("点击上传")])],1),a("p",{staticClass:"ant-upload-hint"},[e._v("只能上传xls/xlsx文件")])])],1)],1)],1),e.errdatarows.length>0?[a("a-divider",{attrs:{orientation:"left"}},[e._v("不规范数据")]),a("a-table",{attrs:{dataSource:e.errdatarows,columns:e.columns,bordered:!1,size:"middle",rowKey:e.rowKey},scopedSlots:e._u([{key:"err",fn:function(t){return[a("a-tag",{attrs:{color:"red"}},[e._v(e._s(t.错误原因))])]}}],null,!1,3464628469)})]:e._e(),[a("h3",{staticStyle:{"text-align":"center"}},[e._v("个税专项附加表获取步骤")]),a("a-timeline",{staticStyle:{margin:"14px"}},[a("a-timeline-item",[e._v("第一步：登陆 自然人税收管理系统扣缴客户端")]),a("a-timeline-item",[e._v("第二步：选择税款所属月份（例如预计算7月个人所得税选择7月）")]),a("a-timeline-item",[e._v("第三步：进入 综合所得申报 弹窗选择生成零工资记录，用户手工修改")]),a("a-timeline-item",[a("p",[e._v("第四步：点击预填专项附加扣除 弹窗选择如图")]),a("p",[a("img",{attrs:{src:"/images/预填专项附加扣除.jpg"}})])]),a("a-timeline-item",[e._v("第五步：点击导出选择导出全部")]),a("a-timeline-item",[e._v("第六步：将导出表上传至本页")])],1)]],2)},r=[],s=[{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"证照号码"},{title:"错误原因",scopedSlots:{customRender:"err"}}],n={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,form:this.$form.createForm(this),visible:{show:!1},FormImportData:{Nian:"",Yue:""},columns:s,AFormImportRules:{NianYue:{rules:[{required:!0,message:"请选择工资发放月份"}]}},errdatarows:[]}},created:function(){var e=this;this.$watch("show",function(t,a){e.visible=t,e.spinning=!1})},methods:{rowKey:function(e){return e.key},onClose:function(){this.visible.show=!1,this.FormImportData={Nian:"",Yue:""},this.refresh&&this.refresh()},uploadbefore:function(e){var t=this,a=!1;return this.form.validateFields(function(e,i){a=!e,a&&(t.FormImportData={Nian:i.NianYue.format("YYYY"),Yue:i.NianYue.format("MM")},t.spinning=!0)}),a},uploadchange:function(e){var t=e.file;e.fileList,e.event;if("done"==t.status){var a=t.response;console.log(a),a.code>0?(this.$message.error(a.msg),a.data&&(this.errdatarows=a.data)):(this.$message.success("导入成功"),this.onClose())}this.spinning=!1}}},o=n,l=a("2877"),u=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=u.exports}}]);